{% from 'partials/theme.html' import theme_variables, theme_button, theme_script, theme_button_style %}
<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>YAML CV Generator</title>
    <style>
        {{ theme_variables() }}
        {{ theme_button_style() }}

        body {
            font-family: 'Roboto', Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background: var(--bg-color);
        }

        .logo-container {
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 30px;
            gap: 15px;
            animation: fadeIn 0.8s ease-out;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .logo {
            width: 80px;
            height: 80px;
            color: var(--accent-color);
            transition: all 0.3s ease;
        }

        .logo:hover {
            transform: scale(1.05);
            filter: drop-shadow(0 0 8px var(--shadow));
        }

        .app-title {
            font-size: 2em;
            color: var(--text-color);
            margin: 0;
            font-weight: 600;
            display: flex;
            flex-direction: column;
            align-items: flex-start;
        }

        .app-subtitle {
            font-size: 0.5em;
            color: var(--company-color);
            font-weight: normal;
            margin-top: 5px;
        }

        .cv-list {
            max-width: 800px;
            margin: 20px auto;
            padding: 30px;
            background: var(--bg-color);
            border-radius: 12px;
            box-shadow: 0 4px 6px var(--shadow);
        }

        .cv-item {
            margin: 10px 0;
            padding: 15px;
            background: var(--content-bg);
            border-radius: 8px;
            border: 1px solid var(--border-color);
            transition: all 0.3s ease;
        }

        .cv-item:hover {
            background: var(--item-hover);
            transform: translateX(5px);
            border-color: var(--accent-color);
        }

        .cv-item a {
            text-decoration: none;
            color: var(--accent-color);
            font-weight: 500;
            display: block;
        }

        .info {
            margin: 20px 0;
            padding: 20px;
            background: var(--content-bg);
            border-radius: 8px;
            color: var(--text-color);
            border: 2px dashed var(--border-color);
            font-size: 0.95em;
            line-height: 1.5;
        }

        .info code {
            background: var(--badge-bg);
            color: var(--badge-text);
            padding: 2px 6px;
            border-radius: 4px;
            font-family: monospace;
            font-size: 0.9em;
        }

        .template-choice {
            padding: 10px;
        }

        .template-choice h3 {
            margin: 0 0 10px 0;
            color: var(--text-color);
        }

        .template-form {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            align-items: center;
        }

        .template-option {
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .template-option input[type="radio"] {
            accent-color: var(--accent-color);
        }

        .template-option label {
            color: var(--text-color);
            font-size: 0.9em;
        }

        .view-btn {
            background-color: var(--accent-color);
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.9em;
            transition: background-color 0.3s ease;
        }

        .view-btn:hover {
            background-color: var(--button-hover);
        }

        @media (max-width: 600px) {
            .logo-container {
                flex-direction: column;
                text-align: center;
            }
            
            .app-title {
                font-size: 1.5em;
                align-items: center;
            }

            .cv-list {
                padding: 20px;
            }

            .template-form {
                flex-direction: column;
                align-items: flex-start;
            }
        }
    </style>
</head>
<body>
    {{ theme_button() }}

    <div class="cv-list">
        <div class="logo-container">
            <svg class="logo" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 120 100">
                <!-- Background Circle -->
                <circle cx="60" cy="50" r="45" fill="currentColor" opacity="0.1"/>
                
                <!-- YAML File (Left) -->
                <g transform="translate(20,20)">
                    <path d="M5 0h25c1.1 0 2 .9 2 2v56c0 1.1-.9 2-2 2H5c-1.1 0-2-.9-2-2V2c0-1.1.9-2 2-2z" 
                          fill="none" 
                          stroke="currentColor" 
                          stroke-width="2"/>
                    
                    <!-- YAML Content -->
                    <line x1="8" y1="12" x2="20" y2="12" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    <line x1="10" y1="20" x2="25" y2="20" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    <line x1="10" y1="28" x2="22" y2="28" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    <!-- YAML Indentation -->
                    <line x1="12" y1="36" x2="27" y2="36" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    <line x1="12" y1="44" x2="24" y2="44" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                </g>

                <!-- Arrow -->
                <g transform="translate(52,35)">
                    <path d="M0 15 H16 M11 8 L17 15 L11 22" 
                          fill="none" 
                          stroke="currentColor" 
                          stroke-width="2" 
                          stroke-linecap="round" 
                          stroke-linejoin="round"/>
                </g>

                <!-- CV Document (Right) -->
                <g transform="translate(70,20)">
                    <path d="M5 0h25c1.1 0 2 .9 2 2v56c0 1.1-.9 2-2 2H5c-1.1 0-2-.9-2-2V2c0-1.1.9-2 2-2z" 
                          fill="none" 
                          stroke="currentColor" 
                          stroke-width="2"/>
                    
                    <!-- Photo placeholder -->
                    <rect x="8" y="8" width="10" height="10" rx="1" stroke="currentColor" stroke-width="2" fill="none"/>
                    
                    <!-- CV Content -->
                    <line x1="22" y1="10" x2="28" y2="10" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    <line x1="22" y1="16" x2="26" y2="16" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    
                    <!-- CV Lines -->
                    <line x1="8" y1="24" x2="28" y2="24" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    <line x1="8" y1="32" x2="28" y2="32" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    <line x1="8" y1="40" x2="24" y2="40" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    <line x1="8" y1="48" x2="20" y2="48" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                </g>

                <!-- Code Symbols -->
                <text x="25" y="15" fill="currentColor" font-size="8" font-family="monospace">{}</text>
                <text x="85" y="15" fill="currentColor" font-size="8" font-family="monospace">CV</text>
            </svg>
            <h1 class="app-title">
                YAML CV Generator
                <span class="app-subtitle">Transformez votre YAML en CV professionnel</span>
            </h1>
        </div>

        <div class="info">
            Pour créer votre CV :
            <ol>
                <li>Placez votre fichier YAML dans le dossier <code>data/cvs/</code></li>
                <li>Ajoutez votre photo dans <code>data/photos/</code></li>
                <li>Utilisez le même nom pour les deux fichiers</li>
            </ol>
        </div>

        {% for cv_id, cv_name in cvs.items() %}
        <div class="cv-item">
            <div class="template-choice">
                <h3>{{ cv_name }}</h3>
                <form action="{{ url_for('show_cv', cv_id=cv_id) }}" method="get" class="template-form">
                    <div class="template-option">
                        <input type="radio" id="standard-{{ cv_id }}" name="template" value="standard" checked>
                        <label for="standard-{{ cv_id }}">CV Standard Desin</label>
                    </div>
                    <div class="template-option">
                        <input type="radio" id="optimized-{{ cv_id }}" name="template" value="optimized">
                        <label for="optimized-{{ cv_id }}">CV Light Design</label>
                    </div>
                    <button type="submit" class="view-btn">Voir le CV</button>
                </form>
            </div>
        </div>
        {% endfor %}
    </div>

    {{ theme_script() }}
</body>
</html>